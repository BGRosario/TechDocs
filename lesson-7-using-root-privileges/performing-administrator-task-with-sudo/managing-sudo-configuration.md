# Managing sudo Configuration

Sudo configuration is managed through /etc/sudoers

{% hint style="info" %}
Do not edit this file directly; only edit it through visudo
{% endhint %}

* Instead of editing /etc/sudoers, consider creating drop-in files in /etc/sudoers, consider creating drop-in files in /etc/sudoers.d
* /etc/sudoers is installed from packages and may be overwritten. Drop-in files will never be overwritten

***

### Understanding admin permissions

Users who are members of the group **wheel** get full sudo access&#x20;

* This is accomplished by %wheel ALL=(ALL) ALL in /etc/sudoers
* Use **usermod -aG wheel myuser** to add a user to the group wheel

Do NOT enable the line %**wheel ALL=(ALL) NOPASSWD:ALL**

* It will provide full sudo access without entering a password and is very dangerous

If you don't like entering your user password every five minutes, increase the authentication token expiration by adding the following (not on RHCSA)

```
Defaults timestamp_type=global,timestamp_timeout=60
```

***

### Providing Access to Specific Tasks

Use drop-in files to provide admin access to specific tasks, for example

```
User1 ALL=/sbin/useradd, /usr/bin/passwd 
```

* Consider using command arguments to make the commands more spcific&#x20;

```
- %users ALL=/bin/mount /dev/sdb, /bin/umount /dev/sdb
- linda ALL=/usr/bin/passwd, !/usr/bin/passwd root
```

It tells linda can use the command passwd, except to change the password of the user root (GENERIC RULE FIRST, then EXCEPTION)
